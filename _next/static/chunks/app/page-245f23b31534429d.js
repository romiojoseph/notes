(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5305:(e,t,n)=>{Promise.resolve().then(n.bind(n,8839))},8839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var s=n(5155),l=n(2115),a=n(7001),i=n(4558),o=n(7229),r=n(4211),c=n(8778),d=n(2406),u=n(909);let m=JSON.parse('["a","an","the","and","but","or","nor","for","so","yet","in","on","at","by","with","from","of","to","into","onto","up","down","out","off","over","under","above","across","along","amid","among","around","before","behind","below","beneath","beside","between","beyond","during","through","throughout","toward","towards","against","amongst","around","despite","except","following","including","inside","outside","past","per","via","regarding","concerning","about","as","like","than","until","unto","upon","versus","vs","via","if","nor","else","lest","save","amidst","circa","per","re","via","through","during","including","to"]');function h(e){let{content:t}=e,[n,a]=(0,l.useState)({words:0,characters:0,sentences:0,paragraphs:0,specialCharacters:0,topWords:[]}),[i,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=(e=>{let t=document.createElement("div");return t.innerHTML=e||"",t.textContent||t.innerText||""})(t);if("string"!=typeof e)return void a({words:0,characters:0,sentences:0,paragraphs:0,specialCharacters:0,topWords:[]});(()=>{let t=e.trim(),n=t.length,s=0===t.length?0:t.split(/\s+/).filter(Boolean).length,l=0===t.length?0:t.split(/[.!?]+/).filter(Boolean).length,o=0===t.length?0:t.split(/\n+/).filter(Boolean).length,r=(t.match(/[^a-zA-Z0-9\s]/g)||[]).length,c={};(t.toLowerCase().match(/\b(\w+)\b/g)||[]).forEach(e=>{i&&m.includes(e)||(c[e]=(c[e]||0)+1)}),a({words:s,characters:n,sentences:l,paragraphs:o,specialCharacters:r,topWords:Object.entries(c).sort((e,t)=>t[1]-e[1]).slice(0,10)})})()},[t,i]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:"Statistics"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"label",children:"Words:"})," ",(0,s.jsx)("span",{className:"value",children:n.words})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"label",children:"Characters:"})," ",(0,s.jsx)("span",{className:"value",children:n.characters})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"label",children:"Sentences:"})," ",(0,s.jsx)("span",{className:"value",children:n.sentences})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"label",children:"Paragraphs:"})," ",(0,s.jsx)("span",{className:"value",children:n.paragraphs})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"label",children:"Special Characters:"})," ",(0,s.jsx)("span",{className:"value",children:n.specialCharacters})]})]}),(0,s.jsx)("h4",{children:"Top 10 Words"}),(0,s.jsx)("ul",{children:n.topWords.map(e=>{let[t,n]=e;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("span",{className:"label",children:[t,":"]})," ",(0,s.jsx)("span",{className:"value",children:n})]},t)})}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:e=>o(e.target.checked)}),"Ignore common words"]})]})}var p=n(5458);function x(e){let{templates:t,loadTemplate:n,onRenameTemplate:l,onDeleteTemplate:a}=e;return t&&0!==t.length?(0,s.jsxs)("div",{className:"templates-list",children:[(0,s.jsx)("h4",{children:"Saved Templates"}),(0,s.jsx)("ul",{children:t.map(e=>(0,s.jsxs)("li",{className:"template-item",children:[(0,s.jsx)("span",{className:"template-title",children:e.title}),(0,s.jsxs)("div",{className:"template-actions",children:[(0,s.jsx)("button",{onClick:()=>n(e.id),title:"Load Template",children:(0,s.jsx)(p.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>l(e.id,e.title),title:"Rename Template",children:(0,s.jsx)(c.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>a(e.id,e.title),title:"Delete Template",children:(0,s.jsx)(r.A,{size:16})})]})]},e.id))})]}):(0,s.jsx)("div",{className:"emptyText",children:"No templates saved yet. Save a page as a template to get started!"})}var g=n(5);function j(e){let{phrases:t,onAdd:n,onEdit:l,onDelete:a,onInsert:i}=e;return(0,s.jsxs)("div",{className:"phrases-list",children:[(0,s.jsxs)("div",{className:"tab-header",children:[(0,s.jsx)("h4",{children:"Saved Phrases"}),(0,s.jsxs)("button",{onClick:n,className:"add-phrase-btn",title:"Add new phrase",children:[(0,s.jsx)(g.A,{size:16,weight:"fill"})," Add Phrase"]})]}),t&&0!==t.length?(0,s.jsx)("ul",{children:t.map(e=>(0,s.jsxs)("li",{className:"phrase-item",children:[(0,s.jsx)("span",{className:"phrase-content",title:"Click to insert",onClick:()=>i(e.content),children:e.content}),(0,s.jsxs)("div",{className:"phrase-actions",children:[(0,s.jsx)("button",{onClick:()=>l(e.id,e.content),title:"Edit Phrase",children:(0,s.jsx)(c.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>a(e.id,e.content),title:"Delete Phrase",children:(0,s.jsx)(r.A,{size:16})})]})]},e.id))}):(0,s.jsx)("div",{className:"emptyText",children:"No phrases saved yet."})]})}function v(e){let{findAndReplaceAction:t}=e,[n,a]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),r=(0,l.useRef)(null);return(0,l.useEffect)(()=>(r.current&&clearTimeout(r.current),""===n.trim())?void t("clear"):(r.current=setTimeout(()=>{t("find",{term:n})},300),()=>{r.current&&clearTimeout(r.current)}),[n,t]),(0,s.jsxs)("div",{className:"find-replace-form",children:[(0,s.jsxs)("div",{className:"input-with-options",children:[(0,s.jsx)("input",{type:"text",placeholder:"Find",value:n,onChange:e=>a(e.target.value)}),n&&(0,s.jsx)("button",{className:"clear-btn",onClick:()=>{a(""),o(""),t("clear")},title:"Clear",children:"\xd7"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Replace with",value:i,onChange:e=>o(e.target.value)}),(0,s.jsx)("div",{className:"button-group",children:(0,s.jsx)("button",{onClick:()=>{if(""===n.trim())return void alert("Please enter text to find.");t("replaceAll",{term:n,newTerm:i}),a(""),o("")},children:"Replace All"})})]})}function f(){let[e,t]=(0,l.useState)(new Date);return(0,l.useEffect)(()=>{let e=setInterval(()=>t(new Date),1e3);return()=>clearInterval(e)},[]),(0,s.jsxs)("div",{className:"clock-container",suppressHydrationWarning:!0,children:[(0,s.jsxs)("div",{className:"time",children:[(0,s.jsx)("h2",{className:"logo",children:"Notes @"}),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(e)]}),(0,s.jsx)("div",{className:"date",children:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(e)}),(0,s.jsx)("aside",{children:"Note: All data is stored locally in your browser. Clearing browser data will delete your documents. Export periodically to avoid data loss."})]})}var b=n(7506),w=n(7358),C=n(127),N=n(5386),y=n(1969),S=n(7817),k=n(1241);function A(e){var t;let{notes:n,activeNote:a,activePage:i,createNewNote:o,setActiveNote:d,setActivePage:m,createNewPage:p,getActivePageContent:A,findAndReplaceAction:T,templates:z,loadTemplate:E,onFileImport:L,onExport:P,onExportAll:I,onImportAll:R,onSearch:D,onFocusModeToggle:F,selectedText:H,onSettings:W,onRenameNote:O,onDeleteNote:M,onRenamePage:B,onDeletePage:U,onSaveAsTemplate:J,onRenameTemplate:V,onDeleteTemplate:_,phrases:q,onAddPhrase:K,onEditPhrase:$,onDeletePhrase:G,onInsertPhrase:Z}=e,[Q,X]=(0,l.useState)("info"),[Y,ee]=(0,l.useState)(!1),et=(0,l.useRef)(null),en=(0,l.useRef)(null),es=(0,l.useRef)(null);return t=()=>{Y&&ee(!1)},(0,l.useEffect)(()=>{let e=e=>{!es.current||es.current.contains(e.target)||t(e)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[es,t]),(0,s.jsxs)("div",{className:"left-panel",children:[(0,s.jsx)(f,{}),(0,s.jsxs)("div",{className:"notes-section",children:[(0,s.jsx)("div",{className:"top-bar",children:(0,s.jsxs)("div",{className:"top-bar-actions",ref:es,children:[(0,s.jsx)("button",{className:"icon-btn",onClick:o,title:"Create New Note",children:(0,s.jsx)(u.A,{size:20,weight:"duotone"})}),(0,s.jsx)("button",{className:"icon-btn secondary",onClick:J,disabled:!i,title:"Save Page as Template",children:(0,s.jsx)(b.A,{size:20,weight:"duotone"})}),(0,s.jsx)("button",{className:"icon-btn",onClick:D,title:"Search",children:(0,s.jsx)(w.A,{size:20,weight:"duotone"})}),(0,s.jsx)("button",{className:"icon-btn",onClick:F,title:"Focus Mode",children:(0,s.jsx)(C.A,{size:20,weight:"duotone"})}),(0,s.jsx)("button",{className:"icon-btn",onClick:W,title:"Settings",children:(0,s.jsx)(N.A,{size:20,weight:"duotone"})}),(0,s.jsx)("button",{className:"more-options-btn",onClick:()=>{ee(e=>!e)},title:"More Options",children:(0,s.jsx)(y.A,{size:20,weight:"duotone"})}),Y&&(0,s.jsxs)("div",{className:"more-options-menu",children:[(0,s.jsx)("button",{onClick:()=>{var e;null==(e=et.current)||e.click(),ee(!1)},children:"Import Page (.txt, .md)"}),(0,s.jsx)("button",{onClick:()=>{P("md"),ee(!1)},disabled:!i,children:"Export Page as .md"}),(0,s.jsx)("button",{onClick:()=>{P("txt"),ee(!1)},disabled:!i,children:"Export Page as .txt"}),(0,s.jsx)("div",{className:"menu-divider"}),(0,s.jsx)("button",{onClick:()=>{var e;null==(e=en.current)||e.click(),ee(!1)},children:"Import All Data (.json)"}),(0,s.jsx)("button",{onClick:()=>{I(),ee(!1)},children:"Export All Data (.json)"})]})]})}),(0,s.jsx)("input",{type:"file",ref:en,style:{display:"none"},accept:".json",onChange:e=>{R(e.target.files[0]),e.target.value=null}}),(0,s.jsx)("input",{type:"file",ref:et,style:{display:"none"},accept:".txt,.md",onChange:e=>{L(e.target.files[0]),e.target.value=null}}),n.map(e=>(0,s.jsxs)("div",{className:"note-item",children:[(0,s.jsxs)("div",{className:"note-header ".concat(a===e.id?"active":""),onClick:()=>{d(e.id),e.pages.length>0?m(e.pages[0].id):m(null)},children:[(0,s.jsxs)("span",{className:"note-title-text",children:[a===e.id?(0,s.jsx)(S.A,{size:16,weight:"fill"}):(0,s.jsx)(k.A,{size:16,weight:"fill"}),e.title]}),(0,s.jsxs)("div",{className:"note-actions",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),O(e.id,e.title)},title:"Rename Note",children:(0,s.jsx)(c.A,{size:16})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),M(e.id,e.title)},title:"Delete Note",children:(0,s.jsx)(r.A,{size:16})})]})]}),a===e.id&&(0,s.jsxs)("ul",{className:"page-list",children:[e.pages.map(t=>(0,s.jsxs)("li",{className:"page-item ".concat(i===t.id?"active":""),children:[(0,s.jsxs)("div",{className:"page-item-main",onClick:()=>m(t.id),children:[(0,s.jsx)("span",{className:"page-title",children:t.title}),t.lastSaved&&(0,s.jsx)("span",{className:"page-timestamp",children:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"}).format(t.lastSaved)})]}),(0,s.jsxs)("div",{className:"page-actions",children:[(0,s.jsx)("button",{onClick:n=>{n.stopPropagation(),B(e.id,t.id,t.title)},title:"Rename Page",children:(0,s.jsx)(c.A,{size:16})}),(0,s.jsx)("button",{onClick:n=>{n.stopPropagation(),U(e.id,t.id,t.title)},title:"Delete Page",children:(0,s.jsx)(r.A,{size:16})})]})]},t.id)),(0,s.jsxs)("button",{className:"add-page-btn",onClick:()=>p(e.id),children:[(0,s.jsx)(g.A,{size:16,weight:"fill"}),"Add Page"]})]})]},e.id))]}),(0,s.jsxs)("div",{className:"tabs-section",children:[(0,s.jsxs)("div",{className:"tabs",children:[(0,s.jsx)("button",{className:"tab-button ".concat("info"===Q?"active":""),onClick:()=>X("info"),children:"Info"}),(0,s.jsx)("button",{className:"tab-button ".concat("find"===Q?"active":""),onClick:()=>X("find"),children:"Find"}),(0,s.jsx)("button",{className:"tab-button ".concat("templates"===Q?"active":""),onClick:()=>X("templates"),children:"Templates"}),(0,s.jsx)("button",{className:"tab-button ".concat("phrases"===Q?"active":""),onClick:()=>X("phrases"),children:"Phrases"})]}),(0,s.jsxs)("div",{className:"tab-content",children:["info"===Q&&(0,s.jsx)(h,{content:H||A()}),"find"===Q&&(0,s.jsx)(v,{findAndReplaceAction:T}),"templates"===Q&&(0,s.jsx)(x,{templates:z,loadTemplate:E,onRenameTemplate:V,onDeleteTemplate:_}),"phrases"===Q&&(0,s.jsx)(j,{phrases:q,onAdd:K,onEdit:$,onDelete:G,onInsert:Z})]})]})]})}var T=n(8692),z=n(6830),E=n(5852),L=n(1390),P=n(8416),I=n(3690),R=n(6262),D=n(2588),F=n(7227),H=n(9716),W=n(2955),O=n(8917),M=n(3733);let B=e=>{let{onClick:t,title:n,isActive:l,children:a}=e;return(0,s.jsx)("button",{onClick:t,title:n,className:l?"active":"",children:a})};function U(e){let{onStyleClick:t,activeStyles:n={},fontFamily:a,onFontFamilyChange:i,fontSize:o,onFontSizeChange:r,lineHeight:c,onLineHeightChange:d}=e,[u,m]=(0,l.useState)(!1),h=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{className:"rich-text-toolbar",children:[(0,s.jsxs)("div",{className:"font-controls-wrapper",style:{position:"relative"},ref:h,children:[(0,s.jsx)(B,{onClick:()=>m(!u),title:"Font Settings",children:(0,s.jsx)(T.A,{size:20,weight:"bold"})}),u&&(0,s.jsxs)("div",{style:{position:"absolute",bottom:"100%",left:"0",backgroundColor:"var(--auraDark-1)",border:"1px solid var(--auraDark-2)",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 24px rgba(0,0,0,0.07)",zIndex:1e3,minWidth:"200px",marginBottom:"16px"},children:[(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("label",{style:{display:"block",fontSize:"12px",marginBottom:"4px",fontWeight:"600"},children:"Font Family"}),(0,s.jsxs)("select",{value:a,onChange:e=>i(e.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--auraDark-3)",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"var(--font-sans)",children:"Sans"}),(0,s.jsx)("option",{value:"var(--font-serif)",children:"Serif"}),(0,s.jsx)("option",{value:"var(--font-code)",children:"Monospace"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsxs)("label",{style:{display:"block",fontSize:"12px",marginBottom:"4px",fontWeight:"600"},children:["Font Size: ",o,"px"]}),(0,s.jsx)("input",{type:"range",min:"14",max:"32",value:o,onChange:e=>r(Number(e.target.value)),style:{width:"100%"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{display:"block",fontSize:"12px",marginBottom:"4px",fontWeight:"600"},children:["Line Height: ",c]}),(0,s.jsx)("input",{type:"range",min:"1.4",max:"3.0",step:"0.1",value:c,onChange:e=>d(Number(e.target.value)),style:{width:"100%"}})]})]})]}),(0,s.jsx)("div",{className:"toolbar-divider"}),(0,s.jsx)(B,{onClick:()=>t("formatBlock","h1"),title:"Heading 1",isActive:null==n?void 0:n.h1,children:(0,s.jsx)(z.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("formatBlock","h2"),title:"Heading 2",isActive:null==n?void 0:n.h2,children:(0,s.jsx)(E.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("formatBlock","h3"),title:"Heading 3",isActive:null==n?void 0:n.h3,children:(0,s.jsx)(L.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("formatBlock","p"),title:"Paragraph",isActive:null==n?void 0:n.p,children:(0,s.jsx)(P.A,{size:20,weight:"bold"})}),(0,s.jsx)("div",{className:"toolbar-divider"}),(0,s.jsx)(B,{onClick:()=>t("bold"),title:"Bold",isActive:null==n?void 0:n.bold,children:(0,s.jsx)(I.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("italic"),title:"Italic",isActive:null==n?void 0:n.italic,children:(0,s.jsx)(R.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("underline"),title:"Underline",isActive:null==n?void 0:n.underline,children:(0,s.jsx)(D.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("strikethrough"),title:"Strikethrough",isActive:null==n?void 0:n.strikethrough,children:(0,s.jsx)(F.A,{size:20,weight:"bold"})}),(0,s.jsx)("div",{className:"toolbar-divider"}),(0,s.jsx)(B,{onClick:()=>t("insertUnorderedList"),title:"Bulleted List",isActive:null==n?void 0:n.ul,children:(0,s.jsx)(H.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("insertOrderedList"),title:"Numbered List",isActive:null==n?void 0:n.ol,children:(0,s.jsx)(W.A,{size:20,weight:"bold"})}),(0,s.jsx)("div",{className:"toolbar-divider"}),(0,s.jsx)(B,{onClick:()=>t("insertHorizontalRule"),title:"Horizontal Line",children:(0,s.jsx)(O.A,{size:20,weight:"bold"})}),(0,s.jsx)(B,{onClick:()=>t("removeFormat"),title:"Clear Formatting",children:(0,s.jsx)(M.A,{size:20,weight:"bold"})}),(0,s.jsx)("div",{className:"toolbar-divider"}),(0,s.jsx)(B,{onClick:()=>t("uppercase"),title:"Uppercase",children:(0,s.jsx)("span",{style:{fontWeight:"700",fontSize:"14px"},children:"AA"})}),(0,s.jsx)(B,{onClick:()=>t("lowercase"),title:"Lowercase",children:(0,s.jsx)("span",{style:{fontWeight:"700",fontSize:"14px"},children:"aa"})}),(0,s.jsx)(B,{onClick:()=>t("titlecase"),title:"Title Case",children:(0,s.jsx)("span",{style:{fontWeight:"700",fontSize:"14px"},children:"Aa"})})]})}let J=(0,l.forwardRef)(function(e,t){let{content:n,onContentChange:a,onStyleClick:i,activeStyles:r,onSelectionChange:c,onPaste:d,onBlur:u,isFocusMode:m,onFocusModeToggle:h,fontFamily:p,onFontFamilyChange:x,fontSize:g,onFontSizeChange:j,lineHeight:v,onLineHeightChange:f}=e;return(0,l.useEffect)(()=>{t.current&&n!==t.current.innerHTML&&(t.current.innerHTML=n||"")},[n,t]),(0,l.useEffect)(()=>{if(t.current){let e=window.getSelection(),n=null;e.rangeCount>0&&(n=e.getRangeAt(0)),t.current.style.fontFamily=p,t.current.style.fontSize="".concat(g,"px"),t.current.style.lineHeight=v.toString(),n&&t.current.contains(n.commonAncestorContainer)&&(e.removeAllRanges(),e.addRange(n))}},[p,g,v,t]),(0,s.jsx)("div",{className:"right-panel",children:null!==n?(0,s.jsxs)("div",{className:"editor-wrapper ".concat(m?"focus":""),children:[m&&(0,s.jsx)("button",{className:"focus-mode-undo-btn",onClick:h,title:"Exit Focus Mode (Esc)",children:(0,s.jsx)(o.A,{size:24})}),(0,s.jsx)("div",{ref:t,className:"editor",contentEditable:"true",suppressContentEditableWarning:!0,onSelect:c,onInput:e=>{a(e.currentTarget.innerHTML)},onBlur:u,onPaste:d}),!m&&(0,s.jsx)(U,{onStyleClick:i,activeStyles:r,onFocusModeToggle:h,fontFamily:p,onFontFamilyChange:x,fontSize:g,onFontSizeChange:j,lineHeight:v,onLineHeightChange:f})]}):(0,s.jsx)("div",{className:"placeholder",children:"It's never late to write that down. Try here on your browser."})})});function V(e){let{isOpen:t,onClose:n,title:l,children:a}=e;return t?(0,s.jsx)("div",{className:"modal-overlay",onMouseDown:n,children:(0,s.jsxs)("div",{className:"modal-content",onMouseDown:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{children:l}),(0,s.jsx)("button",{onClick:n,className:"modal-close-btn",title:"Close",children:(0,s.jsx)(o.A,{size:20})})]}),(0,s.jsx)("div",{className:"modal-body",children:a})]})}):null}function _(e){let{initialCommonWords:t,initialExceptionWords:n,onSave:a,onClose:i}=e,[r,c]=(0,l.useState)(""),[u,m]=(0,l.useState)("");return(0,l.useEffect)(()=>{c(t.join(", ")),m(n.join(", "))},[t,n]),(0,s.jsxs)("div",{className:"settings-container",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"common-words",children:"Common Words (lowercase)"}),(0,s.jsx)("p",{className:"settings-description",children:"Words to keep lowercase in title case, separated by commas."}),(0,s.jsx)("textarea",{id:"common-words",value:r,onChange:e=>c(e.target.value),rows:6,placeholder:"e.g., a, an, the, in, on, at, to, for, of, with"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"exception-words",children:"Exception Words (case-sensitive)"}),(0,s.jsx)("p",{className:"settings-description",children:"Words to preserve their exact casing (e.g., SSH, npm, AT Protocol), separated by commas."}),(0,s.jsx)("textarea",{id:"exception-words",value:u,onChange:e=>m(e.target.value),rows:6,placeholder:"e.g., SSH, GitHub, npm, AT Protocol"})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:i,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{a({commonWords:r.split(",").map(e=>e.trim()).filter(Boolean),exceptionWords:u.split(",").map(e=>e.trim()).filter(Boolean)})},children:[(0,s.jsx)(d.A,{size:20,weight:"bold"}),"Save Settings"]})]})]})}var q=n(3391);function K(){return(0,s.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",textAlign:"center",padding:"2rem",backdropFilter:"blur(8px)"},children:(0,s.jsxs)("div",{style:{maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(q.A,{size:64,weight:"duotone"}),(0,s.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:"bold"},children:"Screen Size Not Supported"}),(0,s.jsx)("p",{style:{fontSize:"1.125rem",lineHeight:1.6,color:"#d1d5db"},children:"This application is optimized for a larger screen experience. Please open it on a device with a screen width of 1280 pixels or more."})]})})}function $(){let{notes:e,activeNote:t,activePage:n,setActiveNote:m,setActivePage:h,createNewNote:p,deleteNote:x,renameNote:g,createNewPage:j,deletePage:v,renamePage:f,handleContentChange:b,getActivePageContent:w,templates:C,savePageAsTemplate:N,loadTemplate:y,renameTemplate:S,deleteTemplate:k,phrases:T,addPhrase:z,updatePhrase:E,deletePhrase:L,commonWords:P,setCommonWords:I,exceptionWords:R,setExceptionWords:D,importAllData:F}=function(){let[e,t]=(0,l.useState)([]),[n,s]=(0,l.useState)([]),[a,i]=(0,l.useState)([]),[o,r]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{try{let n=localStorage.getItem("notes"),l=n?JSON.parse(n):[];if(l.length>0){t(l);let n=localStorage.getItem("activeNote"),s=localStorage.getItem("activePage"),a=n&&l.find(e=>e.id===Number(n)),i=a&&s&&a.pages.find(e=>e.id===Number(s));if(a&&i)m(Number(n)),p(Number(s));else{var e;m(l[0].id),p((null==(e=l[0].pages[0])?void 0:e.id)||null)}}else x(!1);let a=localStorage.getItem("templates");a&&d(JSON.parse(a));let o=localStorage.getItem("phrases");o&&s(JSON.parse(o));let c=localStorage.getItem("commonWords");c&&i(JSON.parse(c));let u=localStorage.getItem("exceptionWords");u&&r(JSON.parse(u))}catch(e){console.error("Failed to parse notes from localStorage",e),x(!1)}},[]),(0,l.useEffect)(()=>{u&&localStorage.setItem("activeNote",u),h&&localStorage.setItem("activePage",h)},[u,h]),(0,l.useEffect)(()=>{(e.length>0||localStorage.getItem("notes"))&&localStorage.setItem("notes",JSON.stringify(e))},[e]),(0,l.useEffect)(()=>{try{let e=c.map(e=>({id:e.id,title:e.title,content:"string"==typeof e.content?e.content:""}));localStorage.setItem("templates",JSON.stringify(e))}catch(e){console.error("Error saving templates:",e)}},[c]),(0,l.useEffect)(()=>{try{localStorage.setItem("phrases",JSON.stringify(n))}catch(e){console.error("Error saving phrases:",e)}},[n]),(0,l.useEffect)(()=>{try{localStorage.setItem("commonWords",JSON.stringify(a))}catch(e){console.error("Error saving common words:",e)}},[a]),(0,l.useEffect)(()=>{localStorage.setItem("exceptionWords",JSON.stringify(o))},[o]);let x=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n={id:Date.now()+1,title:"New Page",content:"Welcome to your new note!"},s={id:Date.now(),title:"New Folder",pages:[n]};t(e=>[...e,s]),e&&(m(s.id),p(n.id))},g=(0,l.useCallback)(e=>{u&&h&&t(t=>t.map(t=>t.id===u?{...t,pages:t.pages.map(t=>t.id===h?{...t,content:e,lastSaved:Date.now()}:t)}:t))},[u,h]),j=(0,l.useCallback)(()=>{if(!u||!h)return null;let t=e.find(e=>e.id===u);if(t){let e=t.pages.find(e=>e.id===h);return e?e.content:null}return null},[e,u,h]);return{notes:e,activeNote:u,activePage:h,setActiveNote:m,setActivePage:p,createNewNote:x,deleteNote:n=>{t(e.filter(e=>e.id!==n)),u===n&&(m(null),p(null))},renameNote:(n,s)=>{t(e.map(e=>e.id===n?{...e,title:s}:e))},createNewPage:n=>{let s={id:Date.now(),title:"New Page",content:"",lastSaved:Date.now()};t(e.map(e=>e.id===n?{...e,pages:[...e.pages,s]}:e)),p(s.id)},deletePage:(n,s)=>{let l=e.find(e=>e.id===n);if(l&&1===l.pages.length)return void alert("A note must have at least one page.");t(e.map(e=>{if(e.id===n){let n=e.pages.filter(e=>e.id!==s);if(h===s){var t;p((null==(t=n[0])?void 0:t.id)||null)}return{...e,pages:n}}return e}))},renamePage:(n,s,l)=>{t(e.map(e=>e.id===n?{...e,pages:e.pages.map(e=>e.id===s?{...e,title:l}:e)}:e))},handleContentChange:g,getActivePageContent:j,templates:c,savePageAsTemplate:e=>{if(!e||!e.trim())return;let t=j();t&&(d(n=>[...n,{id:Date.now(),title:e.trim(),content:t}]),alert('Template "'.concat(e.trim(),'" saved.')))},loadTemplate:e=>{if(!h)return void alert("Please select a page to load the template into.");let t=c.find(t=>t.id===e);t&&g(t.content)},renameTemplate:(e,t)=>{d(n=>n.map(n=>n.id===e?{...n,title:t}:n))},deleteTemplate:e=>{d(t=>t.filter(t=>t.id!==e))},phrases:n,addPhrase:e=>{e&&e.trim()&&s(t=>[...t,{id:Date.now(),content:e.trim()}])},updatePhrase:(e,t)=>{t&&t.trim()&&s(n=>n.map(n=>n.id===e?{...n,content:t.trim()}:n))},deletePhrase:e=>{s(t=>t.filter(t=>t.id!==e))},commonWords:a,setCommonWords:i,exceptionWords:o,setExceptionWords:r,importAllData:e=>{e.notes&&t(e.notes),e.templates&&d(e.templates),e.phrases&&s(e.phrases),e.settings&&(e.settings.commonWords&&i(e.settings.commonWords),e.settings.exceptionWords&&r(e.settings.exceptionWords)),window.location.reload()}}}(),[H,W]=(0,l.useState)(-1),[O,M]=(0,l.useState)({}),[B,U]=(0,l.useState)(!1),[q,$]=(0,l.useState)("var(--font-sans)"),[G,Z]=(0,l.useState)(16),[Q,X]=(0,l.useState)(1.6),[Y,ee]=(0,l.useState)({isOpen:!1,type:null,title:"",data:{}}),[et,en]=(0,l.useState)([]),[es,el]=(0,l.useState)(""),ea=(0,l.useRef)(null),ei=(0,l.useRef)(null),[eo,er]=(0,l.useState)(""),[ec,ed]=(0,l.useState)(null),[eu,em]=(0,l.useState)(!1),[eh,ep]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{ep(window.innerWidth<1280)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let ex=(0,l.useCallback)(()=>{var e;let t=window.getSelection();t&&t.rangeCount>0&&(null==(e=ea.current)?void 0:e.contains(t.anchorNode))&&(ei.current=t.getRangeAt(0))},[]),eg=(0,l.useCallback)(()=>{let e=window.getSelection();er(e.toString());let t={};t.bold=document.queryCommandState("bold"),t.italic=document.queryCommandState("italic"),t.underline=document.queryCommandState("underline"),t.strikethrough=document.queryCommandState("strikethrough");let n=e.anchorNode;if(n)for(1!==n.nodeType&&(n=n.parentNode);n&&n.tagName&&"DIV"!==n.tagName;){let e=n.tagName.toLowerCase();if(["h1","h2","h3","p","ul","ol"].includes(e)){t[e]=!0;break}n=n.parentNode}ex(),M(t)},[ex]);(0,l.useEffect)(()=>{let e=setInterval(()=>{w()},1e4);return()=>clearInterval(e)},[w]),(0,l.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),U(!0),setTimeout(()=>U(!1),2e3))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let ej=(0,l.useCallback)(()=>{em(e=>!e)},[]),ev=(0,l.useCallback)(e=>{e.preventDefault(),ed(null);let t=e.clipboardData,n=t.getData("text/html"),s=t.getData("text/plain"),l="";if(n){let e=document.createElement("div");e.innerHTML=n;let t=["B","STRONG","I","EM","U","S","STRIKE","DEL","H1","H2","H3","UL","OL","LI","P","BR","DIV"],s=e=>{let n;if(3===e.nodeType)return document.createTextNode(e.textContent);if(1!==e.nodeType)return null;let l=e.tagName;return n=t.includes(l)?document.createElement(l):document.createDocumentFragment(),Array.from(e.childNodes).forEach(e=>{let t=s(e);t&&n.appendChild(t)}),n},a=s(e),i=document.createElement("div");i.appendChild(a),l=i.innerHTML}else{let e=document.createElement("div");e.textContent=s,l=e.innerHTML.replace(/\n/g,"<br>")}document.execCommand("insertHTML",!1,l),ea.current&&queueMicrotask(()=>b(ea.current.innerHTML))},[b]),ef=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{term:n,newTerm:s=""}=t,l=ea.current;if(!l)return;let a=e=>e.replace(/<span class="highlight[^"]*"[^>]*>/g,"").replace(/<\/span>/g,""),i=e=>e?RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"):null;if("clear"===e){let e=a(l.innerHTML);l.innerHTML=e,ed(null),W(-1);return}if("find"===e){if(!n)return void ef("clear");let e=a(l.innerHTML),t=i(n);if(!t)return;let s=[...e.matchAll(t)];if(s.length>0){let t=0,n=e;s.forEach(e=>{let s=e.index+t,l=s+e[0].length,a=n.slice(0,s),i=n.slice(s,l),o=n.slice(l),r='<span class="highlight" style="background-color: yellow;">'.concat(i,"</span>");n=a+r+o,t+=r.length-e[0].length}),l.innerHTML=n,W(0)}else l.innerHTML=e,W(-1);return}if("replaceAll"===e&&n){let e=a(l.innerHTML),t=i(n);if(!t)return;let o=e.replace(t,s);b(o),l.innerHTML=o,ed(null),W(-1)}},eb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";if(!e)return;let n=new FileReader;n.onload=n=>{let s=n.target.result;if("all"===t)try{let e=JSON.parse(s);F(e)}catch(e){alert("Error importing data. The file might be corrupted or in the wrong format."),console.error("Import error:",e)}else b(e.name.endsWith(".md")?i.xI.parse(s):s),alert("Imported ".concat(e.name))},n.readAsText(e)},ew=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};el(n.initialValue||""),ee({isOpen:!0,type:e,title:t,data:n})},eC=(0,l.useCallback)(()=>{"search"===Y.type&&(en([]),el("")),ee({isOpen:!1,type:null,title:"",data:{}})},[Y.type]),eN=e=>{let{commonWords:t,exceptionWords:n}=e;I(t),D(n),eC()};return(0,l.useEffect)(()=>{let e=document.querySelector(".editor");e&&e.querySelectorAll(".highlight").forEach((e,t)=>{e.classList.remove("current-match"),t===H&&(e.classList.add("current-match"),e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))})},[H,e]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(eu?em(!1):Y.isOpen&&eC())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[eu,Y.isOpen,eC]),(0,s.jsxs)(s.Fragment,{children:[eh&&(0,s.jsx)(K,{}),!eh&&(0,s.jsxs)("div",{className:"container ".concat(eu?"focus-mode":""),children:[(0,s.jsx)(A,{notes:e,activeNote:t,activePage:n,setActiveNote:m,setActivePage:h,createNewNote:p,createNewPage:j,deletePage:v,renamePage:f,onDeletePage:(e,t,n)=>ew("deletePage","Delete Page",{noteId:e,pageId:t,message:'Are you sure you want to delete the page "'.concat(n,'"?')}),onRenamePage:(e,t,n)=>ew("renamePage","Rename Page",{noteId:e,pageId:t,initialValue:n}),selectedText:eo,onDeleteNote:(e,t)=>ew("deleteNote","Delete Note",{id:e,message:'Are you sure you want to delete the note "'.concat(t,'"?')}),onRenameNote:(e,t)=>ew("renameNote","Rename Note",{id:e,initialValue:t}),onSearch:()=>ew("search","Search"),onSettings:()=>ew("settings","Settings"),getActivePageContent:w,findAndReplaceAction:ef,templates:C,onFileImport:eb,onExport:s=>{let l=w(),i=e.find(e=>e.id===t),o=null==i?void 0:i.pages.find(e=>e.id===n),r=(null==o?void 0:o.title)||"Untitled";if(null===l)return void alert("No page selected to export.");let c="",d="text/plain";if("md"===s)c=new a.A().turndown(l),d="text/markdown";else{let e=document.createElement("div");e.innerHTML=l,c=e.textContent||e.innerText||""}let u=new Blob([c],{type:d}),m=URL.createObjectURL(u),h=document.createElement("a");h.href=m,h.download="".concat(r.replace(/ /g,"_"),".").concat(s),h.click(),URL.revokeObjectURL(m)},onSaveAsTemplate:()=>ew("saveTemplate","Save as Template",{initialValue:"New Template"}),loadTemplate:y,onExportAll:()=>{let t=new Blob([JSON.stringify({notes:e,templates:C,phrases:T,settings:{commonWords:P,exceptionWords:R}},null,2)],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="notes_backup_".concat(new Date().toISOString().slice(0,10),".json"),s.click(),URL.revokeObjectURL(n)},onImportAll:e=>eb(e,"all"),onRenameTemplate:(e,t)=>ew("renameTemplate","Rename Template",{id:e,initialValue:t}),onDeleteTemplate:(e,t)=>ew("deleteTemplate","Delete Template",{id:e,message:'Are you sure you want to delete the template "'.concat(t,'"?')}),phrases:T,onAddPhrase:()=>ew("addPhrase","Add New Phrase"),onEditPhrase:(e,t)=>ew("editPhrase","Edit Phrase",{id:e,initialValue:t}),onDeletePhrase:(e,t)=>ew("deletePhrase","Delete Phrase",{id:e,message:'Are you sure you want to delete the phrase: "'.concat(t,'"?')}),onInsertPhrase:e=>{if(ea.current){let t=window.getSelection();ei.current&&(ea.current.focus(),t.removeAllRanges(),t.addRange(ei.current)),t.rangeCount>0&&document.execCommand("insertText",!1,e)}},onFocusModeToggle:ej}),(0,s.jsx)(J,{ref:ea,content:null!==ec?ec:w(),onContentChange:e=>{ed(null),b(e)},onStyleClick:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(["uppercase","lowercase","titlecase"].includes(e)){let t,n=window.getSelection();if(!n.rangeCount)return;let s=n.getRangeAt(0).toString();"uppercase"===e?t=s===s.toUpperCase()?s.toLowerCase():s.toUpperCase():"lowercase"===e?t=s===s.toLowerCase()?s.toUpperCase():s.toLowerCase():"titlecase"===e&&(t=s.split(/\s+/).map((e,t)=>{let n=e.match(/([,.:;?!]+)$/),s=n?n[1]:"",l=s?e.slice(0,-s.length):e;if(R.includes(l))return e;let a=l.toLowerCase();return t>0&&P.includes(a)?e.toLowerCase():l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()+s}).join(" ")),document.execCommand("insertText",!1,t);return}if("insertHorizontalRule"===e)return void document.execCommand("insertHorizontalRule",!1,null);if("removeFormat"===e){let e=window.getSelection();if(e&&e.toString().length>0)document.execCommand("removeFormat",!1,null);else if(ea.current){ea.current.focus(),document.execCommand("selectAll",!1,null),document.execCommand("removeFormat",!1,null);let t=document.createRange();t.selectNodeContents(ea.current),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}return}document.execCommand(e,!1,t),document.querySelector(".editor"),ea.current&&(ea.current.focus(),b(ea.current.innerHTML),eg())},activeStyles:O,onSelectionChange:eg,onPaste:ev,onBlur:ex,isFocusMode:eu,onFocusModeToggle:ej,fontFamily:q,onFontFamilyChange:$,fontSize:G,onFontSizeChange:Z,lineHeight:Q,onLineHeightChange:X}),Y.isOpen&&(0,s.jsx)(V,{isOpen:Y.isOpen,onClose:eC,title:Y.title,children:(()=>{let{type:t,data:n}=Y;switch(t){case"settings":return(0,s.jsx)(_,{initialCommonWords:P,initialExceptionWords:R,onSave:eN,onClose:eC});case"deletePage":return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:n.message}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{v(n.noteId,n.pageId),eC()},children:[(0,s.jsx)(r.A,{size:20,weight:"bold"}),"Delete"]})]})]});case"renamePage":return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",value:es,onChange:e=>el(e.target.value),placeholder:"Enter new name",autoFocus:!0}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(f(n.noteId,n.pageId,es),eC())},children:[(0,s.jsx)(c.A,{size:20,weight:"bold"}),"Rename"]})]})]});case"renameNote":return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",value:es,onChange:e=>el(e.target.value),placeholder:"Enter new name",autoFocus:!0}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(g(n.id,es),eC())},children:[(0,s.jsx)(c.A,{size:20,weight:"bold"}),"Rename"]})]})]});case"deleteNote":return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:n.message}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{x(n.id),eC()},children:[(0,s.jsx)(r.A,{size:20,weight:"bold"}),"Delete"]})]})]});case"saveTemplate":return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",value:es,onChange:e=>el(e.target.value),placeholder:"Enter template name",autoFocus:!0}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(N(es),eC())},children:[(0,s.jsx)(d.A,{size:20,weight:"bold"}),"Save"]})]})]});case"renameTemplate":return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",value:es,onChange:e=>el(e.target.value),placeholder:"Enter new template name",autoFocus:!0}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(S(n.id,es),eC())},children:[(0,s.jsx)(c.A,{size:20,weight:"bold"}),"Rename"]})]})]});case"deleteTemplate":return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:n.message}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{k(n.id),eC()},children:[(0,s.jsx)(r.A,{size:20,weight:"bold"}),"Delete"]})]})]});case"addPhrase":return(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{value:es,onChange:e=>el(e.target.value),placeholder:"Enter new phrase",autoFocus:!0,rows:4}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(z(es),eC())},children:[(0,s.jsx)(u.A,{size:20,weight:"bold"}),"Add"]})]})]});case"editPhrase":return(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{value:es,onChange:e=>el(e.target.value),placeholder:"Enter new phrase content",autoFocus:!0,rows:4}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{es.trim()&&(E(n.id,es),eC())},children:[(0,s.jsx)(d.A,{size:20,weight:"bold"}),"Save"]})]})]});case"deletePhrase":return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:n.message}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"secondary",onClick:eC,children:[(0,s.jsx)(o.A,{size:20,weight:"bold"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:()=>{L(n.id),eC()},children:[(0,s.jsx)(r.A,{size:20,weight:"bold"}),"Delete"]})]})]});case"search":return(0,s.jsxs)("div",{className:"search-modal",children:[(0,s.jsx)("input",{type:"text",value:es,onChange:t=>(t=>{if(el(t),!t.trim())return void en([]);let n=t.toLowerCase(),s=[];e.forEach(e=>{e.title.toLowerCase().includes(n)&&s.push({type:"note",id:e.id,title:e.title}),e.pages.forEach(t=>{t.title.toLowerCase().includes(n)&&s.push({type:"page",noteId:e.id,pageId:t.id,title:t.title,noteTitle:e.title,lastSaved:t.lastSaved});let l=document.createElement("div");l.innerHTML=t.content||"",(l.textContent||l.innerText||"").toLowerCase().includes(n)&&s.push({type:"page",matchType:"content",noteId:e.id,pageId:t.id,title:t.title,noteTitle:e.title,lastSaved:t.lastSaved})})}),en(s)})(t.target.value),placeholder:"Search notes and pages...",autoFocus:!0}),(0,s.jsx)("div",{className:"search-results",children:0===et.length&&es?(0,s.jsx)("div",{className:"search-empty",children:"No results found."}):et.map((t,n)=>(0,s.jsx)("div",{className:"search-result-item",onClick:()=>(t=>{if("note"===t.type){var n;m(t.id);let s=e.find(e=>e.id===t.id);h((null==s||null==(n=s.pages[0])?void 0:n.id)||null)}else"page"===t.type&&(m(t.noteId),h(t.pageId));eC()})(t),children:"note"===t.type?(0,s.jsxs)("span",{className:"result-title",children:["Note: ",(0,s.jsx)("strong",{children:t.title})]}):(0,s.jsxs)("div",{className:"result-page-details",children:[(0,s.jsxs)("span",{className:"result-title",children:["content"===t.matchType?"Content in ":"Page: ",(0,s.jsx)("strong",{children:t.title})]}),(0,s.jsxs)("span",{className:"result-subtitle",children:["In: ",t.noteTitle,t.lastSaved&&" - Last saved: ".concat(new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t.lastSaved))]})]})},n))}),(0,s.jsx)("div",{className:"modal-actions"})]});default:return null}})()}),B&&(0,s.jsxs)("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#10b981",color:"white",padding:"12px 20px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,animation:"fadeInOut 2s ease-in-out"},children:[(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M20 6L9 17l-5-5"})}),"Saved successfully"]})]})]})}}},e=>{e.O(0,[53,441,61,358],()=>e(e.s=5305)),_N_E=e.O()}]);